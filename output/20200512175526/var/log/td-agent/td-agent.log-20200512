2020-05-09 03:24:01 -0400 [info]: #0 flushing all buffer forcedly
2020-05-12 00:54:31 -0400 [info]: parsing config file is succeeded path="/etc/td-agent/td-agent.conf"
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-elasticsearch' version '4.0.3'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-kafka' version '0.12.3'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-prometheus' version '1.7.3'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-prometheus_pushgateway' version '0.0.1'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-record-modifier' version '2.1.0'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-rewrite-tag-filter' version '2.2.0'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-s3' version '1.3.0'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-systemd' version '1.0.2'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-td' version '1.1.0'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-td-monitoring' version '0.2.4'
2020-05-12 00:54:31 -0400 [info]: gem 'fluent-plugin-webhdfs' version '1.2.4'
2020-05-12 00:54:31 -0400 [info]: gem 'fluentd' version '1.9.2'
2020-05-12 00:54:31 -0400 [info]: 'flush_interval' is configured at out side of <buffer>. 'flush_mode' is set to 'interval' to keep existing behaviour
2020-05-12 00:54:31 -0400 [warn]: Use different plugin for secondary. Check the plugin works with primary like secondary_file primary="Fluent::Plugin::ForwardOutput" secondary="Fluent::Plugin::FileOutput"
2020-05-12 00:54:31 -0400 [info]: adding forwarding server 'centos8102.demo.com:24224' host="centos8102.demo.com" port=24224 weight=60 plugin_id="object:3faea2e77814"
2020-05-12 00:54:31 -0400 [info]: using configuration file: <ROOT>
  <source>
    @type tail
    path "/var/log/nginx/access.log"
    pos_file "/var/log/td-agent/nginx.access.log.pos"
    format nginx
    tag "nginx.access"
    <parse>
      @type nginx
    </parse>
  </source>
  <source>
    @type syslog
    port 5140
    bind "0.0.0.0"
    tag "system"
  </source>
  <source>
    @type monitor_agent
    bind "0.0.0.0"
    port 24220
  </source>
  <match nginx.access>
    @type forward
    flush_interval 1s
    <service>
      host "centos8102.demo.com"
      port 24224
    </service>
    <secondary>
      @type "file"
      path "/var/log/td-agent/forward-failed"
      <buffer time>
        path /var/log/td-agent/forward-failed
      </buffer>
    </secondary>
    <buffer tag>
      flush_interval 1s
    </buffer>
  </match>
</ROOT>
2020-05-12 00:54:31 -0400 [info]: starting fluentd-1.9.2 pid=1043 ruby="2.4.9"
2020-05-12 00:54:31 -0400 [info]: spawn command to main:  cmdline=["/opt/td-agent/embedded/bin/ruby", "-Eascii-8bit:ascii-8bit", "/opt/td-agent/embedded/bin/fluentd", "--log", "/var/log/td-agent/td-agent.log", "--daemon", "/var/run/td-agent/td-agent.pid", "--under-supervisor"]
2020-05-12 00:54:32 -0400 [info]: adding match pattern="nginx.access" type="forward"
2020-05-12 00:54:32 -0400 [info]: #0 'flush_interval' is configured at out side of <buffer>. 'flush_mode' is set to 'interval' to keep existing behaviour
2020-05-12 00:54:32 -0400 [warn]: #0 Use different plugin for secondary. Check the plugin works with primary like secondary_file primary="Fluent::Plugin::ForwardOutput" secondary="Fluent::Plugin::FileOutput"
2020-05-12 00:54:32 -0400 [info]: #0 adding forwarding server 'centos8102.demo.com:24224' host="centos8102.demo.com" port=24224 weight=60 plugin_id="object:3fea0367b1a0"
2020-05-12 00:54:32 -0400 [info]: adding source type="tail"
2020-05-12 00:54:32 -0400 [info]: adding source type="syslog"
2020-05-12 00:54:32 -0400 [info]: adding source type="monitor_agent"
2020-05-12 00:54:32 -0400 [info]: #0 starting fluentd worker pid=1461 ppid=1445 worker=0
2020-05-12 00:54:32 -0400 [info]: #0 listening syslog socket on 0.0.0.0:5140 with udp
2020-05-12 00:54:32 -0400 [info]: #0 following tail of /var/log/nginx/access.log
2020-05-12 00:54:32 -0400 [info]: #0 fluentd worker is now running worker=0
2020-05-12 00:55:10 -0400 [warn]: #0 detached forwarding server '' host="centos8102.demo.com" port=24224 phi=16.814655356820722 phi_threshold=16
2020-05-12 04:12:01 -0400 [info]: #0 force flushing buffered events
