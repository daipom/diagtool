2020-02-28 03:32:01 -0500 [info]: #0 flushing all buffer forcedly
2020-02-28 05:34:01 -0500 [warn]: #0 failed to flush the buffer. retry_time=16 next_retry_seconds=2020-02-28 13:35:25 -0500 chunk="59f97ad6ff8ab3c10cd75c8581eb8e22" error_class=Fluent::Plugin::ForwardOutput::NoNodesAvailable error="no nodes are available"
2020-02-28 05:34:01 -0500 [warn]: #0 suppressed same stacktrace
2020-02-28 09:12:35 -0500 [warn]: #0 recovered forwarding server '' host=ipv4_md5_28b515a0b563a5ac476cc331b75963d0 port=24224
2020-02-28 14:15:32 -0500 [warn]: #0 retry succeeded. chunk_id="59f97ad6ff8ab3c10cd75c8581eb8e22"
2020-02-28 14:16:40 -0500 [info]: Received graceful stop
2020-02-28 14:16:40 -0500 [info]: Received graceful stop
2020-02-28 14:16:40 -0500 [info]: #0 fluentd worker is now stopping worker=0
2020-02-28 14:16:40 -0500 [info]: #0 shutting down fluentd worker worker=0
2020-02-28 14:16:40 -0500 [info]: #0 shutting down input plugin type=:monitor_agent plugin_id="object:3ffb2877ca64"
2020-02-28 14:16:40 -0500 [info]: #0 shutting down input plugin type=:syslog plugin_id="object:3ffb25e36650"
2020-02-28 14:16:40 -0500 [info]: #0 shutting down input plugin type=:tail plugin_id="object:3ffb25ebe258"
2020-02-28 14:16:41 -0500 [info]: #0 shutting down output plugin type=:forward plugin_id="object:3ffb25c89d98"
2020-02-28 14:16:42 -0500 [info]: Worker 0 finished with status 0
2020-02-28 14:16:42 -0500 [info]: parsing config file is succeeded path="/etc/td-agent/td-agent.conf"
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-elasticsearch' version '4.0.3'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-kafka' version '0.12.3'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-prometheus' version '1.7.3'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-prometheus_pushgateway' version '0.0.1'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-record-modifier' version '2.1.0'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-rewrite-tag-filter' version '2.2.0'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-s3' version '1.3.0'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-systemd' version '1.0.2'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-td' version '1.1.0'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-td-monitoring' version '0.2.4'
2020-02-28 14:16:42 -0500 [info]: gem 'fluent-plugin-webhdfs' version '1.2.4'
2020-02-28 14:16:42 -0500 [info]: gem 'fluentd' version '1.9.2'
2020-02-28 14:16:42 -0500 [info]: 'flush_interval' is configured at out side of <buffer>. 'flush_mode' is set to 'interval' to keep existing behaviour
2020-02-28 14:16:42 -0500 [warn]: Use different plugin for secondary. Check the plugin works with primary like secondary_file primary="Fluent::Plugin::ForwardOutput" secondary="Fluent::Plugin::FileOutput"
2020-02-28 14:16:42 -0500 [info]: adding forwarding server fqdn_md5_a916ec8bff00593ba75ba91f0e67e669 host=fqdn_md5_53ea78d3263c5db37226e7f8d2ee07e8 port=24224 weight=60 plugin_id="object:3fc622f803a4"
2020-02-28 14:16:42 -0500 [warn]: define <match fluent.**> to capture fluentd logs in top level is deprecated. Use <label @FLUENT_LOG> instead
2020-02-28 14:16:42 -0500 [info]: using configuration file: <ROOT>
<source>
@type tail
path "/var/log/nginx/access.log"
pos_file "/var/log/td-agent/nginx.access.log.pos"
format nginx
tag fqdn_md5_22db84b867029dac7fe37db6b9e1efbe
<parse>
@type nginx
</parse>
</source>
<source>
@type syslog
port 5140
bind ipv4_md5_f1f17934834ae2613699701054ef9684
tag "system"
</source>
<source>
@type monitor_agent
bind ipv4_md5_f1f17934834ae2613699701054ef9684
port 24220
</source>
<match **>
@type forward
flush_interval 1s
<service>
host fqdn_md5_53ea78d3263c5db37226e7f8d2ee07e8
port 24224
</service>
<secondary>
@type "file"
path "/var/log/td-agent/forward-failed"
<buffer time>
path /var/log/td-agent/forward-failed
</buffer>
</secondary>
<buffer tag>
flush_interval 1s
</buffer>
</match>
</ROOT>
2020-02-28 14:16:42 -0500 [info]: starting fluentd-1.9.2 pid=14713 ruby="2.4.9"
2020-02-28 14:16:42 -0500 [info]: spawn command to main: cmdline=["/opt/td-agent/embedded/bin/ruby", "-Eascii-8bit:ascii-8bit", "/opt/td-agent/embedded/bin/fluentd", "--log", "/var/log/td-agent/td-agent.log", "--daemon", "/var/run/td-agent/td-agent.pid", "--under-supervisor"]
2020-02-28 14:16:43 -0500 [info]: adding match pattern="**" type="forward"
2020-02-28 14:16:43 -0500 [info]: #0 'flush_interval' is configured at out side of <buffer>. 'flush_mode' is set to 'interval' to keep existing behaviour
2020-02-28 14:16:43 -0500 [warn]: #0 Use different plugin for secondary. Check the plugin works with primary like secondary_file primary="Fluent::Plugin::ForwardOutput" secondary="Fluent::Plugin::FileOutput"
2020-02-28 14:16:43 -0500 [info]: #0 adding forwarding server fqdn_md5_a916ec8bff00593ba75ba91f0e67e669 host=fqdn_md5_53ea78d3263c5db37226e7f8d2ee07e8 port=24224 weight=60 plugin_id="object:3fcacff9200c"
2020-02-28 14:16:43 -0500 [info]: adding source type="tail"
2020-02-28 14:16:43 -0500 [info]: adding source type="syslog"
2020-02-28 14:16:43 -0500 [info]: adding source type="monitor_agent"
2020-02-28 14:16:43 -0500 [warn]: #0 define <match fluent.**> to capture fluentd logs in top level is deprecated. Use <label @FLUENT_LOG> instead
2020-02-28 14:16:43 -0500 [info]: #0 starting fluentd worker pid=14730 ppid=14725 worker=0
2020-02-28 14:16:43 -0500 [info]: #0 listening syslog socket on ipv4_md5_f1f17934834ae2613699701054ef9684:5140 with udp
2020-02-28 14:16:43 -0500 [info]: #0 following tail of /var/log/nginx/access.log
2020-02-28 14:16:43 -0500 [info]: #0 fluentd worker is now running worker=0
2020-03-02 21:38:01 -0500 [info]: #0 force flushing buffered events
